{"version":3,"sources":["webpack:///./node_modules/file-saver/FileSaver.js","webpack:///./node_modules/rxjs-compat/_esm5/ReplaySubject.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/app/model/ro.utcluj.trial.vo.ts","webpack:///./src/app/service/queries/patient-query-service.ts","webpack:///./src/app/trial/new-page/trial-form.component.html","webpack:///./src/app/trial/new-page/trial-form.component.ts","webpack:///./src/app/trial/overview-page/trial-view.component.html","webpack:///./src/app/trial/overview-page/trial-view.component.scss","webpack:///./src/app/trial/overview-page/trial-view.component.ts","webpack:///./src/app/trial/trial.component.html","webpack:///./src/app/trial/trial.component.scss","webpack:///./src/app/trial/trial.component.ts","webpack:///./src/app/trial/trial.module.ts","webpack:///./src/app/trial/trial.routing.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,KAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,GAAG,yBAAyB;AAC7G;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA,GAAG;AAAA;AACH;;;;;;;;;;;;;;;;;AC3LwB;AACxB,yC;;;;;;;;;;;ACDA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;;;;;;;;;;;;;;;ACDA;AAAA;IAAA;IAeA,CAAC;IAbK,+EAA+E;IACjE,qBAAa,GAAG,kDAAkD,CAAC;IAEnE,aAAK,GAAG,oCAAoC,C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","file":"app-trial-trial-module.js","sourcesContent":["/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","export { ReplaySubject } from 'rxjs';\n//# sourceMappingURL=ReplaySubject.js.map","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n","export class TrialVO {\n\n      //defines the name of th research site resource => used to define relationships\n      public static RESEARCH_SITE = \"ro.utcluj.clinictrial.organisation.ResearchSite#\";\n\n      public static TRIAL = \"ro.utcluj.clinictrial.trial.Trial#\";\n      public static TRIAL_QUERY = \"ro.utcluj.clinictrial.trial.Trial%23\";\n      public static RESOURCE_REF = \"resource%3A\";\n      idTrial: string;\n      studyName: string;\n      status: string;\n      researchSites: string[];\n      organiser: string;\n      participants: string[];\n      responsibles: string[];\n}","import { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { QueryService } from './query-service';\nimport { Patient } from '../../model/ro.utcluj.clinictrial.base'\nimport 'rxjs/Rx';\nimport { ResourceProvider } from '../../utils/resource-provider';\n\n// Can be injected into a constructor\n@Injectable()\nexport class PatientQueryService {\n    constructor(\n        private _queryService: QueryService<Patient>,\n    ) {\n\n    }\n\n    public selectPatientsForTrial(idTrial: string): Observable<Patient[]> {\n        var trial = ResourceProvider.newTrialQueryResource(idTrial);\n        return this._queryService.get(\"selectPatientsForTrial?trial=\", trial);\n    }\n}\n","module.exports = \"<h3>{{title}}</h3>\\n<div *ngIf=\\\"isInitialised\\\">\\n    <form [formGroup]=\\\"trialForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n        <mat-form-field class=\\\"full-width\\\">\\n            <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" placeholder=\\\"Clinical study name\\\" [(value)]=\\\"this.trial.studyName\\\">\\n            <mat-error *ngIf=\\\"nameControl.errors\\n                                  && (nameControl.touched || nameControl.dirty)\\\">\\n                Field is required and must have at least 2 characters</mat-error>\\n        </mat-form-field>\\n        <table>\\n            <td>\\n                <input matInput type=\\\"text\\\" placeholder=\\\"Search a research center\\\" [(value)]=\\\"searchQuery\\\">\\n            </td>\\n            <td>\\n                <a mat-button (click)=\\\"search()\\\">Search</a>\\n            </td>\\n        </table>\\n        <div *ngIf=\\\"searchActivate\\\">\\n            <table class=\\\"highlight\\\">\\n                <thead>\\n                    <tr>\\n                        <th>Name</th>\\n                        <th>Select</th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <tr *ngFor=\\\"let res of researchSites\\\">\\n                        <td>\\n                            {{res.orgName}}\\n                        </td>\\n                        <td>\\n                            <a mat-button (click)=\\\"onSelect(res)\\\">Select</a>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n        <div *ngIf=\\\"selectionActivate\\\">\\n            <table>\\n                <tbody>\\n                    <tr>\\n                        <td>\\n                            <h5>Organisation {{researchSiteSelection.orgName}} selected</h5>\\n                        </td>\\n                        <td>\\n                            <a mat-button (click)=\\\"onCancel()\\\">Cancel selection</a>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n        <!--Submit button-->\\n        <div style=\\\"margin-bottom: 1em\\\">\\n            <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" \\n            [disabled]=\\\"trialForm.valid\\\">Save</button>\\n        </div>\\n    </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TrialVO } from '../../model/ro.utcluj.trial.vo';\nimport { OrganisationVO } from '../../model/ro.utcluj.vo';\nimport { ResearchSiteService } from '../../service/research-site.service';\nimport { TrialService } from '../../service/trial.service';\nimport { IdProviderService } from '../../utils/id-provider.service';\n\n@Component({\n    selector: 'trial-form-component',\n    templateUrl: 'trial-form.component.html'\n})\nexport class TrialFormComponent implements OnInit {\n    trial: TrialVO = new TrialVO();\n    researchSites: OrganisationVO[] = [];\n    researchSiteSelection: OrganisationVO;\n\n    // display the form after the initialisation is done\n    isInitialised = false;\n    searchActivate = false;\n    selectionActivate = false;\n\n    errorMessage;\n    searchQuery = \"\";\n\n    //formControls\n    nameControl;\n    orgResourceControl;\n\n    //trialForm\n    trialForm: FormGroup;\n\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _trialService: TrialService,\n        private _researchSiteService: ResearchSiteService,\n        private _idProvider: IdProviderService\n    ) {\n        this.initBindings();\n        this.buildForm();\n        this.isInitialised = true;\n    }\n\n    buildForm() {\n        this.trialForm = this.formBuilder.group({\n            name: this.formBuilder.\n                control(this.trial.studyName,\n                    [Validators.required, Validators.minLength(2)]),\n            orgResource: this.formBuilder.\n                control(this.trial.organiser,\n                    [Validators.required, Validators.minLength(2)])\n        })\n        this.nameControl = this.trialForm.get('name');\n        this.orgResourceControl = this.trialForm.get('orgResource');\n    }\n\n    search() {\n        this._researchSiteService.getAll()\n            .toPromise()\n            .then((result) => {\n                this.errorMessage = null;\n                result.forEach(participant => {\n                    let org = new OrganisationVO();\n                    org.orgID = participant.idResearchSite;\n                    org.orgName = participant.name;\n                    org.orgInternalAddress = participant.orgAddress.city + ', ' + participant.orgAddress.street;\n                    org.orgType = \"RESEARCH SITE\";\n                    this.researchSites.push(org);\n                });\n                //display the search result\n                this.searchActivate = true;\n            })\n            .catch((error) => {\n                if (error == 'Server error') {\n                    this.errorMessage = \"Could not connect to REST server. Please check your configuration details\";\n                }\n                else if (error == '404 - Not Found') {\n                    this.errorMessage = \"404 - Could not find API route. Please check your available APIs.\"\n                }\n                else {\n                    this.errorMessage = error;\n                }\n            });\n    }\n\n    onSelect(userSelection) {\n        this.researchSiteSelection = userSelection;\n        //build the string needed by the REST api in order to create a new\n        //relationship between two objects\n        this.trial.organiser = TrialVO.RESEARCH_SITE + this.researchSiteSelection.orgID;\n        this.searchActivate = false;\n        this.selectionActivate = true;\n\n    }\n\n    onCancel() {\n        this.researchSites = null;\n        this.searchActivate = true;\n        this.selectionActivate = false;\n    }\n\n    ngOnInit() {\n\n    }\n\n    onSubmit() {\n        console.log(this.trialForm.value)\n        //fetch values from form\n        this.trial.studyName = this.trialForm.value.name;\n        //generate a random id\n        this.trial.idTrial = this._idProvider.generateID();\n        console.log(JSON.stringify(this.trial))\n        this._trialService.addAsset(this.trial)\n            .subscribe(\n                (res) => {\n                    this._router.navigate([\"trial\"]);\n                },\n                (err) => {\n                    alert(\"Could not save asset. Please try again!\");\n                }\n            )\n    }\n\n    initBindings() {\n        this.trial.studyName = \"\";\n        this.trial.organiser = \"\";\n    }\n}","module.exports = \"<mat-tab-group>\\n    <mat-tab label=\\\"Overview\\\">\\n        <ng-template matTabContent>\\n            <br/>\\n            <div class=\\\"center-div\\\">\\n                <mat-card class=\\\"description-card\\\">\\n                    <mat-card-header>\\n                        <h2>\\n                            Clinical study description\\n                        </h2>\\n                    </mat-card-header>\\n                    <mat-card-content>\\n                        <div *ngIf=\\\"!editMode\\\" style=\\\"white-space: pre-wrap;\\\">\\n                            {{trial.description}}\\n                        </div>\\n                        <br/>\\n                        <a mat-button (click)=\\\"editMode =! editMode\\\" color=\\\"primary\\\" *ngIf=\\\"!editMode\\\">\\n                            <i class=\\\"material-icons\\\">edit</i>&nbsp; Edit\\n                        </a>\\n                        <div *ngIf=\\\"editMode\\\">\\n                            <mat-form-field class=\\\"input-field-width\\\">\\n                                <textarea matInput rows=10 style=\\\"white-space: pre-wrap;\\\" placeholder=\\\"Description\\\" [(ngModel)]=\\\"trial.description\\\" ngDefaultControl></textarea>\\n                            </mat-form-field>\\n                        </div>\\n                        <a mat-button (click)=\\\"onDescriptionChange()\\\" color=\\\"primary\\\" *ngIf=\\\"editMode\\\">\\n                            Save\\n                        </a>\\n                        &nbsp;\\n                        <a mat-button (click)=\\\"editMode =! editMode\\\" color=\\\"primary\\\" *ngIf=\\\"editMode\\\">\\n                            Cancel\\n                        </a>\\n                    </mat-card-content>\\n                </mat-card>\\n            </div>\\n            <br/>\\n            <div class=\\\"center-div\\\">\\n                <mat-card class=\\\"description-card\\\">\\n                    <mat-card-header>\\n                        <h2>\\n                            Latest protocol version\\n                        </h2>\\n                    </mat-card-header>\\n                    <mat-card-content>\\n                        testing content\\n                    </mat-card-content>\\n                </mat-card>\\n            </div>\\n            <br/>\\n            <div class=\\\"center-div\\\">\\n                <mat-card class=\\\"description-card\\\">\\n                    <mat-card-header>\\n                        <h2>\\n                            TODO List\\n                        </h2>\\n                    </mat-card-header>\\n                    <mat-card-content>\\n                        testing content\\n                    </mat-card-content>\\n                </mat-card>\\n            </div>\\n            <br/>\\n        </ng-template>\\n    </mat-tab>\\n    <mat-tab label=\\\"Protocol\\\">\\n        <ng-template matTabContent>\\n            <div *ngIf=\\\"uploadCardActivate\\\">\\n                <div class=\\\"center-div\\\">\\n                    <mat-card class=\\\"description-card-small\\\">\\n                        <mat-card-header>\\n                            <h2>\\n                                Upload new protocol...\\n                            </h2>\\n                        </mat-card-header>\\n                        <mat-card-content>\\n                            <mat-list>\\n                                <table>\\n                                    <tr>\\n\\n                                        <td>\\n                                            <h4>Name:</h4>\\n                                        </td>\\n                                        <td>\\n                                            {{fileToUpload.name}}\\n                                        </td>\\n                                    </tr>\\n                                </table>\\n                                <mat-divider></mat-divider>\\n                                <table>\\n                                    <tr>\\n\\n                                        <td>\\n                                            <h4>File size:</h4>\\n                                        </td>\\n                                        <td>\\n                                            {{fileSize}}\\n                                        </td>\\n                                    </tr>\\n                                </table>\\n                                <mat-divider></mat-divider>\\n                                <mat-list-item>Item 3</mat-list-item>\\n                                <mat-divider></mat-divider>\\n                                <div class=\\\"center-div\\\">\\n                                    <mat-list-item>\\n                                        <table>\\n                                            <tr>\\n                                                <td>\\n                                                    <button mat-raised-button color color=\\\"primary\\\" (click)=\\\"upload()\\\">\\n                                                        Upload\\n                                                    </button>\\n                                                </td>\\n                                                <td>\\n                                                    <button mat-raised-button color color=\\\"primary\\\" (click)=\\\"cancelUpload()\\\">\\n                                                        Cancel\\n                                                    </button>\\n                                                </td>\\n                                            </tr>\\n                                        </table>\\n                                    </mat-list-item>\\n                                </div>\\n                            </mat-list>\\n                        </mat-card-content>\\n                    </mat-card>\\n                </div>\\n            </div>\\n            <br/>\\n            <div class=\\\"table-container mat-elevation-z8\\\">\\n                <mat-table #table [dataSource]=\\\"allFilesDataSource\\\">\\n\\n                    <!-- File ID column -->\\n                    <ng-container matColumnDef=\\\"FileID\\\">\\n                        <mat-header-cell *matHeaderCellDef> FileID </mat-header-cell>\\n                        <mat-cell *matCellDef=\\\"let file\\\"> {{file.fileID}} </mat-cell>\\n                    </ng-container>\\n\\n                    <!-- File version column -->\\n                    <ng-container matColumnDef=\\\"FileVersion\\\">\\n                        <mat-header-cell *matHeaderCellDef> File Version </mat-header-cell>\\n                        <mat-cell *matCellDef=\\\"let file\\\"> {{file.fileVersion}} </mat-cell>\\n                    </ng-container>\\n\\n                    <!-- File version column -->\\n                    <ng-container matColumnDef=\\\"FileDate\\\">\\n                        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>\\n                        <mat-cell *matCellDef=\\\"let file\\\"> {{file.fileTimestamp}} </mat-cell>\\n                    </ng-container>\\n\\n                    <!-- Download link column -->\\n                    <ng-container matColumnDef=\\\"Download\\\">\\n                        <mat-header-cell *matHeaderCellDef> Download </mat-header-cell>\\n                        <mat-cell *matCellDef=\\\"let file\\\">\\n                            <a (click)=\\\"downloadFile(file)\\\">\\n                                <i class=\\\"material-icons\\\">cloud_download</i>\\n                            </a>\\n                        </mat-cell>\\n                    </ng-container>\\n\\n                    <!-- Delete link column -->\\n                    <ng-container matColumnDef=\\\"Delete\\\">\\n                        <mat-header-cell *matHeaderCellDef> Delete </mat-header-cell>\\n                        <mat-cell *matCellDef=\\\"let file\\\">\\n                            <a (click)=\\\"deleteFile(file)\\\">\\n                                <i class=\\\"material-icons\\\">delete_sweep</i>\\n                            </a>\\n                        </mat-cell>\\n                    </ng-container>\\n\\n                    <mat-header-row *matHeaderRowDef=\\\"fileColumns\\\"></mat-header-row>\\n                    <mat-row *matRowDef=\\\"let row; columns: fileColumns;\\\"></mat-row>\\n                </mat-table>\\n                <div class=\\\"floating-button\\\">\\n                    <button mat-fab color=\\\"primary\\\" (click)=\\\"fileInput.click()\\\">\\n                        <mat-icon aria-label=\\\"Upload a file\\\">cloud_upload</mat-icon>\\n                        <input #fileInput type=\\\"file\\\" ngf-select=\\\"\\\" ng-model=\\\"selectedFile\\\" name=\\\"file\\\" ngf-accept=\\\"'*'\\\" required=\\\"\\\" (change)=\\\"handleFileInput($event.target.files)\\\"\\n                            style=\\\"display:none;\\\">\\n                    </button>\\n                </div>\\n            </div>\\n        </ng-template>\\n    </mat-tab>\\n\\n\\n\\n    <mat-tab label=\\\"Forms\\\">\\n        <ng-template matTabContent>\\n            <br/>\\n            <div *ngIf=\\\"!enableViewForm\\\">\\n                <div *ngIf=\\\"!formBuilder\\\">\\n                    <mat-table #table [dataSource]=\\\"allCustomFormsDataSource\\\">\\n                        <!-- Form name column -->\\n                        <ng-container matColumnDef=\\\"FormName\\\">\\n                            <mat-header-cell *matHeaderCellDef> Form Name </mat-header-cell>\\n                            <mat-cell *matCellDef=\\\"let form\\\"> {{form.name}} </mat-cell>\\n                        </ng-container>\\n\\n                        <!-- Form last modified column -->\\n                        <ng-container matColumnDef=\\\"LastModified\\\">\\n                            <mat-header-cell *matHeaderCellDef> Last Modified </mat-header-cell>\\n                            <mat-cell *matCellDef=\\\"let form\\\"> {{form.dateCreated}} </mat-cell>\\n                        </ng-container>\\n\\n                        <!-- Edit link column -->\\n                        <ng-container matColumnDef=\\\"Edit\\\">\\n                            <mat-header-cell *matHeaderCellDef> View </mat-header-cell>\\n                            <mat-cell *matCellDef=\\\"let form\\\">\\n                                <a mat-button (click)=\\\"viewForm(form)\\\" color=\\\"primary\\\">\\n                                    <i class=\\\"material-icons\\\">pageview</i>\\n                                </a>\\n                            </mat-cell>\\n                        </ng-container>\\n\\n                        <!-- Delete link column -->\\n                        <ng-container matColumnDef=\\\"Delete\\\">\\n                            <mat-header-cell *matHeaderCellDef> Delete </mat-header-cell>\\n                            <mat-cell *matCellDef=\\\"let form\\\">\\n                                <a (click)=\\\"deleteForm(form)\\\">\\n                                    <i class=\\\"material-icons\\\">delete_sweep</i>\\n                                </a>\\n                            </mat-cell>\\n                        </ng-container>\\n\\n\\n                        <mat-header-row *matHeaderRowDef=\\\"customFormColumns\\\"></mat-header-row>\\n                        <mat-row *matRowDef=\\\"let row; columns: customFormColumns;\\\"></mat-row>\\n                    </mat-table>\\n\\n                </div>\\n                <div class=\\\"floating-button\\\" *ngIf=\\\"!formBuilder\\\">\\n                    <button mat-fab color=\\\"primary\\\" (click)=\\\" formBuilder = !formBuilder\\\">\\n                        <mat-icon aria-label=\\\"New Custom Form\\\">note_add</mat-icon>\\n                    </button>\\n                </div>\\n                <div *ngIf=\\\"formBuilder\\\">\\n                    <crf-component></crf-component>\\n                </div>\\n            </div>\\n            <div *ngIf=\\\"enableViewForm\\\">\\n                <custom-form [idForm]=\\\"selectedForm.idForm\\\" [disabled] = \\\"true\\\"></custom-form>\\n            </div>\\n        </ng-template>\\n    </mat-tab>\\n\\n    <mat-tab label=\\\"Patients\\\">\\n\\n        <ng-template matTabContent>\\n            <br/>\\n            <div *ngIf=\\\"patientSelect\\\">\\n                <patient-page [idTrial]=\\\"idTrial\\\"></patient-page>\\n            </div>\\n            <div *ngIf=\\\"!patientSelect\\\">\\n                <patient-table [allPatientsDataSource]=\\\"allPatientsDataSource\\\" [adminMode]=false [idTrial]=\\\"trial.idTrial\\\"></patient-table>\\n                <div class=\\\"floating-button\\\">\\n\\n                    <button mat-fab color=\\\"primary\\\" (click)=\\\"patientSelection()\\\">\\n                        <mat-icon aria-label=\\\"Add\\\">add</mat-icon>\\n                    </button>\\n                </div>\\n            </div>\\n        </ng-template>\\n    </mat-tab>\\n\\n    <mat-tab label=\\\"Records\\\">\\n        <ng-template matTabContent>\\n            <br/>\\n            <records-component [idTrial]=\\\"idTrial\\\"></records-component>\\n        </ng-template>\\n    </mat-tab>\\n\\n    <mat-tab label=\\\"Users\\\">\\n        <ng-template matTabContent>\\n            <br/>\\n            <user-manager [idTrial]=\\\"idTrial\\\"></user-manager>\\n        </ng-template>\\n    </mat-tab>\\n    <mat-tab label=\\\"Settings\\\">\\n        <ng-template matTabContent>\\n\\n        </ng-template>\\n    </mat-tab>\\n\\n\\n</mat-tab-group>\"","module.exports = \"\"","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { Trial, ProtocolFile, CustomForm } from '../../model/ro.utcluj.clinictrial.trial';\nimport { TrialVO } from '../../model/ro.utcluj.trial.vo';\nimport { TrialService } from '../../service/trial.service';\nimport { ResearchSiteService } from '../../service/research-site.service';\nimport { MatPaginator, MatTableDataSource } from '@angular/material';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport { FileVO } from '../../model/ro.utcluj.vo'\nimport { IdProviderService } from '../../utils/id-provider.service'\nimport { ProtocolFileService } from '../../service/ProtocolFile.service';\nimport { ReplaySubject } from \"rxjs/ReplaySubject\";\nimport { Observable } from \"rxjs/Observable\";\nimport { FilesQueryService } from \"../../service/queries/files-query-service\";\nimport { FormQueryService } from '../../service/queries/forms-query-service';\nimport { PatientService } from '../../service/patient.service'\nimport { PatientQueryService } from '../../service/queries/patient-query-service'\nimport * as FileSaver from 'file-saver';\nimport { Patient } from '../../model/ro.utcluj.clinictrial.base';\nimport { LoaderService } from '../../components/loader/loader.service';\n\n\n@Component({\n    selector: 'trial-view-component',\n    templateUrl: 'trial-view.component.html',\n    styleUrls: ['./trial-view.component.scss']\n})\nexport class TrialViewComponent implements OnInit {\n    //disable some annoying animations\n    @HostBinding('@.disabled')\n    navigationSubscription;\n\n    //id for the user selected trial\n    private idTrial: string;\n    trial: Trial = new Trial();\n    idTrialLoaded = false;\n\n    //relationship string;\n    trialRelation;\n\n    //for protcol uploading\n    selectedFile;\n    fileToUpload: File = null;\n    uploadCardActivate = false;\n    fileSize;\n    protocolFile = new FileVO();\n    formBuilder = false;\n    patientSelect = false;\n\n    editMode = false;\n\n\n    fileColumns = ['FileID', 'FileVersion', 'FileDate', 'Download', 'Delete'];\n    customFormColumns = ['FormName', 'LastModified', 'Edit', 'Delete'];\n    patientColumns = ['PatientID', 'Name', 'View', 'Remove'];\n    allFilesDataSource: MatTableDataSource<ProtocolFile>;\n    allCustomFormsDataSource: MatTableDataSource<CustomForm>;\n    allPatientsDataSource: MatTableDataSource<Patient>;\n    selectedForm: CustomForm;\n    enableViewForm: boolean = false;\n\n\n    constructor(\n        private _trialService: TrialService,\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _idProvider: IdProviderService,\n        private _protocolService: ProtocolFileService,\n        private _fileQueryService: FilesQueryService,\n        private _formQueryService: FormQueryService,\n        private _loaderService: LoaderService\n    ) {\n        this._loaderService.show();\n        this.navigationSubscription = this._router.events.subscribe((e: any) => {\n            // If it is a NavigationEnd event re-initalise the component\n            if (e instanceof NavigationEnd) {\n                console.log(\"loading table data....\")\n                //reset the tab components\n                this.formBuilder = false;\n                this.patientSelect = false;\n                this.editMode = false;\n                this.uploadCardActivate = false;\n                this.enableViewForm = false;\n                this.loadTableData();\n            }\n        });\n        var id = this._route.params\n            .subscribe(params => {\n                var id = params['idTrial'];\n                this.idTrial = id;\n                console.log(\"Selected trial with ID: \" + this.idTrial);\n                if (!id) {\n                    alert(\"Something went wrong! Please try again!\")\n                }\n\n                this.loadTableData();\n                this.idTrialLoaded = true;\n            })\n\n    }\n\n    loadTableData() {\n        this._trialService.getAsset(this.idTrial)\n            .subscribe(\n                (res: Trial) => {\n                    console.log(\"Received from server: \");\n                    this.trial = res;\n                    this.allPatientsDataSource = new MatTableDataSource<Patient>(res.participants);\n                    console.log(this.trial);\n                    this._loaderService.hide();\n                }\n            )\n        this._fileQueryService.findFileByTrial(this.idTrial)\n            .subscribe(\n                (res) => {\n                    console.log(res);\n                    this.allFilesDataSource = new MatTableDataSource<ProtocolFile>(res);\n                }\n            )\n        this._formQueryService.findCustomFormsByTrial(this.idTrial)\n            .subscribe(\n                (res) => {\n                    console.log(res)\n                    this.allCustomFormsDataSource = new MatTableDataSource<CustomForm>(res);\n                }\n            )\n    }\n\n    displayFormBuilder() {\n        this.formBuilder = true;\n    }\n    hideFormBuilder() {\n        this.formBuilder = false;\n    }\n\n    viewForm(form: CustomForm) {\n        this.selectedForm = form;\n        this.enableViewForm = true\n    }\n\n    hideForm(){\n        this.selectedForm = null;\n        this.enableViewForm = false;\n    }\n\n\n\n    patientSelection() {\n        console.log(this.idTrial)\n        this.patientSelect = true;\n\n    }\n    handleFileInput(files: FileList) {\n        this.fileToUpload = files.item(0);\n        console.log(\"File selected by user: \");\n        console.log(this.fileToUpload);\n\n        //var base64content = text.substr(text.indexOf(',') + 1)\n        var obs = this.readFile(this.fileToUpload);\n        obs.subscribe(\n            (res) => {\n                var fileExtension = this.getFileExtension(this.fileToUpload.name);\n                var date = new Date();\n                var timestamp = date.toLocaleDateString();\n                console.log(\"File extension is: \" + fileExtension);\n                this.fileSize = this.transform(this.fileToUpload.size);\n                console.log(\"File size is : \" + this.fileSize);\n                this.uploadCardActivate = true;\n                this.protocolFile.fileID = this._idProvider.generateID();\n                this.protocolFile.fileContent = res.toString().substr(res.toString().indexOf(',') + 1);\n                this.protocolFile.fileType = fileExtension;\n                // this.protocolFile.fileVersion = \"\";\n                this.protocolFile.trial = TrialVO.TRIAL + this.idTrial;\n                this.protocolFile.fileTimestamp = this.generateTimestamp();\n            }\n        );\n    }\n\n    public readFile(fileToRead: File): Observable<String> {\n        let base64Observable = new ReplaySubject<String>(1);\n        let fileReader = new FileReader();\n        fileReader.onloadend = event => {\n            base64Observable.next(fileReader.result);\n        };\n        fileReader.readAsDataURL(fileToRead);\n        return base64Observable;\n    }\n\n    getFileExtension(fileName: string) {\n        return fileName.split('.').pop();\n    }\n\n    cancelUpload() {\n        this.uploadCardActivate = false;\n        this.fileToUpload = null;\n    }\n\n    generateTimestamp() {\n        var date = new Date();\n        return date.toLocaleDateString();\n    }\n\n    upload() {\n        console.log(\"Uploading ...\");\n        console.log(JSON.stringify(this.protocolFile));\n        this._protocolService.addAsset(this.protocolFile).subscribe(\n            (res) => {\n                this._router.navigate([this._router.url])\n            }\n        )\n    }\n\n    downloadFile(file: ProtocolFile) {\n        var bin = atob(file.fileContent);\n        var byteNumbers = new Array(bin.length);\n        for (var i = 0; i < bin.length; i++) {\n            byteNumbers[i] = bin.charCodeAt(i);\n        }\n        var byteArray = new Uint8Array(byteNumbers);\n        var blob = new Blob([byteArray], { type: 'application/pdf' })\n\n        FileSaver.saveAs(blob, this.trial.studyName + '_' + file.fileTimestamp);\n    }\n\n    ngOnInit() {\n\n    }\n    private units = [\n        'bytes',\n        'KB',\n        'MB',\n        'GB',\n        'TB',\n        'PB'\n    ];\n    transform(bytes: number = 0, precision: number = 2): string {\n        if (isNaN(parseFloat(String(bytes))) || !isFinite(bytes)) return '?';\n\n        let unit = 0;\n\n        while (bytes >= 1024) {\n            bytes /= 1024;\n            unit++;\n        }\n\n        return bytes.toFixed(+ precision) + ' ' + this.units[unit];\n    }\n\n    onDescriptionChange() {\n        var id = this.trial.idTrial;\n        this.trial.idTrial = \"\";\n        this._trialService.getAssetUnresolved(id).subscribe(\n            (res: Trial) =>{\n                res.description = this.trial.description;\n                console.log(res);\n                this._trialService.updateAsset(res.idTrial, res).subscribe(\n                    (result) => {\n                        this._router.navigate([this._router.url])\n                    },\n                    (err)=>{\n                        this._router.navigate([this._router.url])\n                    }\n                )\n\n            }\n        )\n\n    }\n}","module.exports = \"\\n  <div class=\\\"center-div\\\">\\n    <mat-card class=\\\"description-card\\\">\\n      <mat-card-header>\\n        <h2 class=\\\"marginAutoLR\\\">My trials</h2>\\n      </mat-card-header>\\n    </mat-card>\\n\\n\\n</div>\\n\\n<br/>\\n<div class=\\\"floating-button\\\">\\n  <a mat-fab routerLink=\\\"new\\\" color=\\\"primary\\\">\\n    <mat-icon aria-label=\\\"New Custom Form\\\">add</mat-icon>\\n  </a>\\n</div>\\n<div class=\\\"table-container mat-elevation-z8\\\">\\n  <mat-table #table [dataSource]=\\\"allTrialsDataSource\\\">\\n\\n    <!-- Trial ID column -->\\n    <ng-container matColumnDef=\\\"StudyID\\\">\\n      <mat-header-cell *matHeaderCellDef> StudyID </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let trial\\\"> {{trial.idTrial}} </mat-cell>\\n    </ng-container>\\n\\n    <!-- Name column -->\\n    <ng-container matColumnDef=\\\"Name\\\">\\n      <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let trial\\\"> {{trial.studyName}} </mat-cell>\\n    </ng-container>\\n\\n    <!-- Institute column -->\\n    <ng-container matColumnDef=\\\"Institute\\\">\\n      <mat-header-cell *matHeaderCellDef> Institute </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let trial\\\"> {{trial.organiser.name}}</mat-cell>\\n    </ng-container>\\n\\n    <!-- Birthdate column -->\\n    <ng-container matColumnDef=\\\"Status\\\">\\n      <mat-header-cell *matHeaderCellDef> Status </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let trial\\\"> {{trial.status}}</mat-cell>\\n    </ng-container>\\n\\n    <!-- View link column -->\\n    <ng-container matColumnDef=\\\"Access\\\">\\n      <mat-header-cell *matHeaderCellDef> </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let trial\\\">\\n        <a mat-button [routerLink]=\\\"['/trial/view',trial.idTrial]\\\" color=\\\"primary\\\">\\n          <i class=\\\"material-icons\\\">pageview</i>\\n        </a>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <mat-header-row *matHeaderRowDef=\\\"trialColumns\\\"></mat-header-row>\\n    <mat-row *matRowDef=\\\"let row; columns: trialColumns;\\\"></mat-row>\\n\\n  </mat-table>\\n</div>\"","module.exports = \".component-page-header {\\n  display: flex;\\n  align-items: center; }\\n  @media (max-width: 720px) {\\n    .component-page-header {\\n      padding-left: 0; } }\\n  h1 {\\n  outline: none; }\\n  @media (max-width: 720px) {\\n    h1 {\\n      padding: 24px 8px;\\n      font-size: 20px; } }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Trial } from '../model/ro.utcluj.clinictrial.trial'\nimport { TrialService } from '../service/trial.service'\nimport { ResearchSiteService } from '../service/research-site.service'\nimport { MatPaginator, MatTableDataSource } from '@angular/material';\nimport { LoaderService } from '../components/loader/loader.service';\nimport { HistorianService } from '../service/historian.service';\n\n@Component({\n    selector: 'trial-component',\n    templateUrl: 'trial.component.html',\n    styleUrls: ['./trial.component.scss']\n})\nexport class TrialComponent implements OnInit {\n    trials: Trial[] = [];\n    errorMessage;\n    trialColumns = ['StudyID', 'Name', 'Institute', 'Status', 'Access'];\n    allTrialsDataSource: MatTableDataSource<Trial>;\n    constructor(\n        private _trialService: TrialService,\n        private _loaderService: LoaderService,\n        private _historianService: HistorianService\n    ) {\n        _loaderService.show();\n    }\n\n    ngOnInit() {\n        this.loadAll();\n        console.log(this.trials);\n    }\n\n    loadAll() {\n        let tempList = [];\n        this._historianService.getAll().subscribe(\n            (res) =>{\n                console.log(res);\n            }\n        )\n        this._trialService.getAll().subscribe(\n            (result) => {\n                this.errorMessage = null;\n                result.forEach(asset => {\n                    console.log(asset)\n                    tempList.push(asset);\n                });\n                this.trials = tempList;\n                this.allTrialsDataSource = new MatTableDataSource(this.trials);\n                this._loaderService.hide();\n            },\n\n            (error) => {\n                if (error == 'Server error') {\n                    this.errorMessage = \"Could not connect to REST server. Please check your configuration details\";\n                }\n                else if (error == '404 - Not Found') {\n                    this.errorMessage = \"404 - Could not find API route. Please check your available APIs.\"\n                }\n                else {\n                    this.errorMessage = error;\n                }\n                alert(this.errorMessage);\n                this._loaderService.hide();\n            }\n        )\n    }\n\n}","import { TrialComponent } from './trial.component';\nimport { TrialViewComponent } from './overview-page/trial-view.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AppMaterialModule } from '../material.module';\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\nimport { TrialRoutingModule } from './trial.routing';\nimport { TrialService } from '../service/trial.service';\nimport { ResearchSiteService } from '../service/research-site.service';\nimport { TrialFormComponent } from '../trial/new-page/trial-form.component'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IdProviderService } from '../utils/id-provider.service';\nimport { CRFModule } from '../crf/crf.module'\nimport { PatientQueryService } from '../service/queries/patient-query-service'\nimport { ComponentModule } from '../components/component.module'\n@NgModule({\n    imports: [\n        AppMaterialModule,\n        TrialRoutingModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        CRFModule,\n        ComponentModule\n    ],\n    providers: [\n        TrialService,\n        ResearchSiteService,\n        IdProviderService,\n        PatientQueryService\n    ],\n    declarations: [\n        TrialComponent,\n        TrialFormComponent,\n        TrialViewComponent,\n    ]\n})\nexport class TrialModule { }","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TrialComponent } from './trial.component'\nimport { TrialFormComponent } from './new-page/trial-form.component';\nimport { TrialViewComponent } from './overview-page/trial-view.component';\n\nconst routes: Routes = [\n  { path: '', component: TrialComponent },\n  { path: 'new', component: TrialFormComponent },\n  { path: 'view/:idTrial', component: TrialViewComponent },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TrialRoutingModule { }\n"],"sourceRoot":""}
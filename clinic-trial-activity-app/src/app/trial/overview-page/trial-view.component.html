<mat-tab-group>
    <mat-tab label="Overview">
        <ng-template matTabContent>
            <br/>
            <div class="center-div">
                <mat-card class="description-card">
                    <mat-card-header>
                        <h2>
                            Clinical study description
                        </h2>
                    </mat-card-header>
                    <mat-card-content>
                        testing content content aldadkklakksladkadsk aslkdsakdklaskdsakd KAskSKAsA AkaskjkASKSNkNSKJNKSN KDKKAKASKSAKSAnjaASK
                    </mat-card-content>
                </mat-card>
            </div>
            <br/>
            <div class="center-div">
                <mat-card class="description-card">
                    <mat-card-header>
                        <h2>
                            Latest protocol version
                        </h2>
                    </mat-card-header>
                    <mat-card-content>
                        testing content
                    </mat-card-content>
                </mat-card>
            </div>
            <br/>
            <div class="center-div">
                <mat-card class="description-card">
                    <mat-card-header>
                        <h2>
                            TODO List
                        </h2>
                    </mat-card-header>
                    <mat-card-content>
                        testing content
                    </mat-card-content>
                </mat-card>
            </div>
            <br/>
        </ng-template>
    </mat-tab>
    <mat-tab label="Protocol">
        <ng-template matTabContent>

            <br/>


            <div *ngIf="uploadCardActivate">
                <div class="center-div">
                    <mat-card class="description-card-small">
                        <mat-card-header>
                            <h2>
                                Upload new protocol...
                            </h2>
                        </mat-card-header>
                        <mat-card-content>
                            <mat-list>
                                <table>
                                    <tr>

                                        <td>
                                            <h4>Name:</h4>
                                        </td>
                                        <td>
                                            {{fileToUpload.name}}
                                        </td>
                                    </tr>
                                </table>
                                <mat-divider></mat-divider>
                                <table>
                                    <tr>

                                        <td>
                                            <h4>File size:</h4>
                                        </td>
                                        <td>
                                            {{fileSize}}
                                        </td>
                                    </tr>
                                </table>
                                <mat-divider></mat-divider>
                                <mat-list-item>Item 3</mat-list-item>
                                <mat-divider></mat-divider>
                                <div class="center-div">
                                    <mat-list-item>
                                        <table>
                                            <tr>
                                                <td>
                                                    <button mat-raised-button color color="primary" (click)="upload()">
                                                        Upload
                                                    </button>
                                                </td>
                                                <td>
                                                    <button mat-raised-button color color="primary" (click)="cancelUpload()">
                                                        Cancel
                                                    </button>
                                                </td>
                                            </tr>
                                        </table>
                                    </mat-list-item>
                                </div>
                            </mat-list>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>
            <br/>
            <div class="table-container mat-elevation-z8">
                <mat-table #table [dataSource]="allFilesDataSource">

                    <!-- File ID column -->
                    <ng-container matColumnDef="FileID">
                        <mat-header-cell *matHeaderCellDef> FileID </mat-header-cell>
                        <mat-cell *matCellDef="let file"> {{file.fileID}} </mat-cell>
                    </ng-container>

                    <!-- File version column -->
                    <ng-container matColumnDef="FileVersion">
                        <mat-header-cell *matHeaderCellDef> File Version </mat-header-cell>
                        <mat-cell *matCellDef="let file"> {{file.fileVersion}} </mat-cell>
                    </ng-container>

                    <!-- File version column -->
                    <ng-container matColumnDef="FileDate">
                        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
                        <mat-cell *matCellDef="let file"> {{file.fileTimestamp}} </mat-cell>
                    </ng-container>

                    <!-- Download link column -->
                    <ng-container matColumnDef="Download">
                        <mat-header-cell *matHeaderCellDef> Download </mat-header-cell>
                        <mat-cell *matCellDef="let file">
                            <a (click)="downloadFile(file)">
                                <i class="material-icons">cloud_download</i>
                            </a>
                        </mat-cell>
                    </ng-container>

                    <!-- Delete link column -->
                    <ng-container matColumnDef="Delete">
                        <mat-header-cell *matHeaderCellDef> Delete </mat-header-cell>
                        <mat-cell *matCellDef="let file">
                            <a (click)="deleteFile(file)">
                                <i class="material-icons">delete_sweep</i>
                            </a>
                        </mat-cell>
                    </ng-container>

                    <mat-header-row *matHeaderRowDef="fileColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: fileColumns;"></mat-row>
                </mat-table>
                <div class="floating-button">
                    <button mat-fab color="primary" (click)="fileInput.click()">
                        <mat-icon aria-label="Upload a file">cloud_upload</mat-icon>
                        <input #fileInput type="file" ngf-select="" ng-model="selectedFile" name="file" ngf-accept="'*'" required="" (change)="handleFileInput($event.target.files)"
                            style="display:none;">
                    </button>
                </div>
            </div>
        </ng-template>
    </mat-tab>



    <mat-tab label="Forms">
        <ng-template matTabContent>
            <div *ngIf="!formBuilder">
                <mat-table #table [dataSource]="allCustomFormsDataSource">
                    <!-- Form name column -->
                    <ng-container matColumnDef="FormName">
                        <mat-header-cell *matHeaderCellDef> Form Name </mat-header-cell>
                        <mat-cell *matCellDef="let form"> {{form.name}} </mat-cell>
                    </ng-container>

                    <!-- Form last modified column -->
                    <ng-container matColumnDef="LastModified">
                        <mat-header-cell *matHeaderCellDef> Last Modified </mat-header-cell>
                        <mat-cell *matCellDef="let form"> {{form.dateCreated}} </mat-cell>
                    </ng-container>

                    <!-- Edit link column -->
                    <ng-container matColumnDef="Edit">
                        <mat-header-cell *matHeaderCellDef> Edit </mat-header-cell>
                        <mat-cell *matCellDef="let form">
                            <a (click)="editForm(form)">
                                <i class="material-icons">edit</i>
                            </a>
                        </mat-cell>
                    </ng-container>

                    <!-- Delete link column -->
                    <ng-container matColumnDef="Delete">
                        <mat-header-cell *matHeaderCellDef> Delete </mat-header-cell>
                        <mat-cell *matCellDef="let form">
                            <a (click)="deleteForm(form)">
                                <i class="material-icons">delete_sweep</i>
                            </a>
                        </mat-cell>
                    </ng-container>


                    <mat-header-row *matHeaderRowDef="customFormColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: customFormColumns;"></mat-row>
                </mat-table>

            </div>
            <div class="floating-button" *ngIf="!formBuilder">
                <button mat-fab color="primary" (click)=" formBuilder = !formBuilder">
                    <mat-icon aria-label="New Custom Form">note_add</mat-icon>
                </button>
            </div>
            <div *ngIf="formBuilder">
                <crf-component></crf-component>
            </div>
        </ng-template>
    </mat-tab>

    <mat-tab label="Patients">
        <ng-template matTabContent>
            <div *ngIf="patientSelect">
                <patient-page [idTrial]="idTrial"></patient-page>
            </div>
            <div *ngIf="!patientSelect">
                <patient-table [allPatientsDataSource]="allPatientsDataSource" [adminMode]=false></patient-table>
                <div class="floating-button">

                    <button mat-fab color="primary" (click)="patientSelection()">
                        <mat-icon aria-label="Add">add</mat-icon>
                    </button>
                </div>
            </div>
        </ng-template>
    </mat-tab>

    <mat-tab label="Records">
        <ng-template matTabContent></ng-template>
    </mat-tab>


</mat-tab-group>